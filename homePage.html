<!DOCTYPE html>
<html>
     <head>
          <title> Connectify - Home </title>
          <link rel="icon" href="resources/Logo.svg" type="image/svg+xml">
          <link rel="stylesheet" type="text/css" href="homePage.css">
     </head>

     <body>
          <!-- HEADER -->
          <header>
               <div id="headercol1">
                    <img id="logo" src="resources/Logo.svg" />
                    <p id="appName"> Connectify </p>
               </div>
               <div id="headercol2">
                    <div class="searchBar">
                         <img src="resources/Trailing-Elements.svg" alt="Search Icon">
                         <input type="text" id="search" name="search" placeholder="Search #tags or ::words::" required>
                    </div>

                    <!-- IF USER IS NOT LOGGED IN -->
                    <!--
                    <button id="logInButton" onclick="window.location.href='loginPage.html'">Log In</button>
                    -->
               </div>
          </header>
          <!-- HEADER -->

          <div class="break"> </div>

          <div class="content">

               <!-- IF USER IS LOGGED IN -->
               <!-- NAV BAR -->
               <div class="navBar">

                    <!-- USER PROFILE -->
                    <div class="profileNav">
                         <!-- PROFILE NAME, PIC, # OF LIKES/POSTS, BIO-->
                         <div class="profile">
                              <div class="userProfilePic"></div>
                              <div class="usernameAndhandle">
                                   <p class="profileUsername">Username</p>
                                   <p class="profileUserhandle">@userhandle</p>
                              </div>
                              <div class="likesAndPosts">
                                   <div class="likes">
                                        <p class="numbers">127</p>
                                        <p class="numberCategory">Likes</p>
                                   </div>
                                   <div class="posts">
                                        <p class="numbers">369</p>
                                        <p class="numberCategory">Posts</p>
                                   </div>
                              </div>
                              <p class="bio">
                                   i am a person and i like cats, please donâ€™t talk to me
                              </p>
                         </div>

                         <div class="navBarDivider"></div>

                         <div class="navBarContent">
                         
                              <!-- NAV BAR OPTIONS -->
                              <div class="registeredOptions">
                                   <button class="navBarButtons" id="viewProfile" onclick="window.location.href='profilePage.html'">
                                        <img src="resources/Profile Icon.svg" alt="View Profile Icon">
                                        View Profile
                                   </button>
                                   <button class="navBarButtons" id="editProfile" onclick="window.location.href='editProfilePage.html'">
                                        <img src="resources/Edit Icon.svg" alt="Edit Profile Icon">
                                        Edit Profile
                                   </button>
                                   <button class="navBarButtons" id="logOut" onclick="window.location.href='loginPage.html'">
                                        <img src="resources/Log Out Icon.svg" alt="Log Out Icon">
                                        Log Out
                                   </button>
                              </div>
                         </div>
                    </div>
               
                    <!-- POSTS AND COMMENTS SUBSECTION -->
                    <div class="userPostsAndComments">

                         <!-- POSTS -->
                         <div class="userPostsAndCommentsHeader">
                              <p class="userNavTitle">Posts</p>
                              <a class="userNavMore" href="profilePage.html">More ></a>
                         </div>

                         <!-- IF USER HAS NOT MADE ANY POSTS YET -->
                         <!--
                         <div class="noPostsOrComments">No Posts Available</div>
                         --> 

                         <div class="userPostsAndCommentsContent">
                              <button class="userPost" onclick="window.location.href='postPage.html'">
                                   <img class="userPostImage" src="resources/loginbg.png" alt="User Post Image">
                                   <p class="userPostTitle">good morning</p>
                              </button>
                              <button class="userPost" onclick="window.location.href='postPage.html'">
                                   <img class="userPostImage" src="resources/Image Holder.svg" alt="User Post Image">
                                   <p class="userPostTitle">how are you</p>
                              </button>
                              <button class="userPost" onclick="window.location.href='postPage.html'">
                                   <img class="userPostImage" src="resources/Image Holder.svg" alt="User Post Image">
                                   <p class="userPostTitle">wake me up</p>
                              </button>
                              <button class="userPost" onclick="window.location.href='postPage.html'">
                                   <img class="userPostImage" src="resources/monkey.jpg" alt="User Post Image">
                                   <p class="userPostTitle">titleeeeee</p>
                              </button>
                              <button class="userPost" onclick="window.location.href='postPage.html'">
                                   <img class="userPostImage" src="resources/hamster.jpg" alt="User Post Image">
                                   <p class="userPostTitle">where am i</p>
                              </button>
                         </div>
                    </div>
                    
                    <!-- COMMENTS -->
                    <div class="userPostsAndComments">

                         <div class="userPostsAndCommentsHeader">
                              <p class="userNavTitle">Comments</p>
                              <a class="userNavMore" href="profilePage.html">More ></a>
                         </div>

                         <!-- IF USER HAS NOT MADE ANY COMMENTS YET -->
                         <!--     
                         <div class="noPostsOrComments">No Comments Available</div>
                         -->

                         <div class="userPostsAndCommentsContent">


                              <button class="userPost" onclick="window.location.href='postPage.html'">
                                   <img class="userPostImage" src="resources/Arrow Curve Up Right.svg" alt="User Post Image">
                                   <p class="userComment">funny reply</p>
                              </button>
                              <button class="userPost" onclick="window.location.href='postPage.html'">
                                   <img class="userPostImage" src="resources/Arrow Curve Up Right.svg" alt="User Post Image">
                                   <p class="userComment">long ass commmmeeennntttuhhhhhhhhhhh</p>
                              </button>
                              <button class="userPost" onclick="window.location.href='postPage.html'">
                                   <img class="userPostImage" src="resources/Arrow Curve Up Right.svg" alt="User Post Image">
                                   <p class="userComment">random meme</p>
                              </button>
                              <button class="userPost" onclick="window.location.href='postPage.html'">
                                   <img class="userPostImage" src="resources/Arrow Curve Up Right.svg" alt="User Post Image">
                                   <p class="userComment">existential dread</p>
                              </button>
                              <button class="userPost" onclick="window.location.href='postPage.html'">
                                   <img class="userPostImage" src="resources/Arrow Curve Up Right.svg" alt="User Post Image">
                                   <p class="userComment">:DDDDD</p>
                              </button>
                         </div>
                    </div>

               </div> 
               
               <!-- TIMELINE -->
               <div class="timeline">
                    <!-- NEW POST BUTTON -->
                    <div class="newPost">
                         <button class="newPostButton" onclick="window.location.href='newPostPage.html'">+ New Post</button>
                    </div>

                    <div class="postDivider"></div>

                    <!-- IF POST FEED IS EMPTY-->
                    <!--
                    <div class="emptyTimeline">
                         <p id="emptyFeed">Wow, such empty</p>
                     </div> 
                    -->
                    
                    <!-- POST FEED -->

                    <!-- POST -->
                    <div class="post">

                         <div class="mainPost">
                              <!-- POST USER -->
                              <div class="postUser">
                                   <div class="profilePic"></div>
                                   <div class="usernameAndTime">
                                        <p class="username">Username</p>
                                        <p class="timePosted">4 minutes ago</p>
                                   </div>

                                   <!-- IF USER IS LOGGED IN -->
                                   <!-- POST OPTIONS 
                                   <button class="optionsButton">
                                        <img src="resources/Options Button.svg" alt="Options">
                                   </button> -->
                              </div>

                              <!-- TAGS -->
                              <div class="posttags">
                                   <a href="">#funny</a>
                                   <a href="">#life</a>
                                   <a href="">#school</a>
                                   <a href="">#dolphin</a>
                                   <a href="">#rainbow</a>
                                   <a href="">#ocean</a>
                                   <a href="">#morning</a>
                                   <a href="">#depression</a>
                                   <a href=""></a>
                                   
                              </div>

                              <!-- POST CONTENT -->
                              <div class="postContent">
                                   <p class="postTitle">good morning</p>
                                   <p class="postText">text text text text text text text text text text text text text text text text text text text text text text text </p>
                              </div>

                              <div class="postImageContainer">
                                   <img class="postImage" src="resources/loginbg.png" alt="Post Image">
                              </div>
                         </div>
                         
                         <!-- ACTION BUTTONS -->
                         <div class="commentActions">
                              <button class="actionButton">
                                  <img src="resources/Heart.svg" alt="Like">
                                  <span class="counter">42</span>
                              </button>
                              <div class="separator"></div>
                              <button class="actionButton">
                                  <img src="resources/HeartCrack.svg" alt="Dislike">
                                  <span class="counter">8</span>
                              </button>
                              <button class="actionButton" onclick="window.location.href='postPage.html'"><img src="resources/Comments.svg" alt="Comment"></button>
                              <button class="actionButton"><img src="resources/Bookmark.svg" alt="Bookmark"></button>
                         </div>

                    </div>

                    <div class="postDivider"></div>

                    <!-- POST -->
                    <div class="post">

                         <div class="mainPost">
                              <!-- POST USER -->
                              <div class="postUser">
                                   <div class="profilePic"></div>
                                   <div class="usernameAndTime">
                                        <p class="username">Username</p>
                                        <p class="timePosted">7 hours ago</p>
                                   </div>

                                   <!-- IF USER IS LOGGED IN -->
                                   <!-- POST OPTIONS -->
                                   <button class="optionsButton">
                                        <img src="resources/Options Button.svg" alt="">
                                   </button>
                              </div>

                              <!-- TAGS -->
                              <div class="posttags">
                                   <a href="">#mug</a>
                                   <a href="">#life</a>
                                   <a href="">#stuff</a>
                                   <a href="">#comedy</a>
                                   <a href="">#hell</a>
                              </div>

                              <!-- POST CONTENT -->
                              <div class="postContent">
                                   <p class="postTitle">fix ur mug</p>
                                   <p class="postText">- Joella</p>
                              </div>

                              <div class="postImageContainer">
                                   
                              </div>
                         </div>
                         
                         <!-- ACTION BUTTONS -->
                         <div class="commentActions">
                              <button class="actionButton">
                                  <img src="resources/Heart.svg" alt="Like">
                                  <span class="counter">42</span>
                              </button>
                              <div class="separator"></div>
                              <button class="actionButton">
                                  <img src="resources/HeartCrack.svg" alt="Dislike">
                                  <span class="counter">8</span>
                              </button>
                              <button class="actionButton" onclick="window.location.href='postPage.html'"><img src="resources/Comments.svg" alt="Comment"></button>
                              <button class="actionButton"><img src="resources/Bookmark.svg" alt="Bookmark"></button>
                         </div>
                         
                    </div>

                    <div class="postDivider"></div>

                    <!-- POST -->
                    <div class="post">

                         <div class="mainPost">
                              <!-- POST USER -->
                              <div class="postUser">
                                   <div class="profilePic"></div>
                                   <div class="usernameAndTime">
                                        <p class="username">Username</p>
                                        <p class="timePosted">5 days ago</p>
                                   </div>

                                   <!-- IF USER IS LOGGED IN -->
                                   <!-- POST OPTIONS 
                                   <button class="optionsButton">
                                        <img src="resources/Options Button.svg" alt="">
                                   </button> -->
                              </div>

                              <!-- TAGS-->
                              <div class="posttags">
                                   <a href="">#coding</a>
                                   <a href="">#spiders</a>
                                   <a href="">#web</a>
                                   <a href="">#human</a>
                                   <a href="">#confusion</a>
                                   <a href="">#guy</a>
                                   <a href="">#bugs</a>
                              </div>

                              <!-- POST CONTENT -->
                              <div class="postContent">
                                   <p class="postTitle">hehe</p>
                                   <p class="postText">hamster</p>
                              </div>

                              <div class="postImageContainer">
                                   <img class="postImage" src="resources/hamster.jpg" alt="Hamster">
                              </div>
                         </div>
                          
                         <!-- ACTION BUTTONS -->
                         <div class="commentActions">
                              <button class="actionButton">
                                  <img src="resources/Heart.svg" alt="Like">
                                  <span class="counter">42</span>
                              </button>
                              <div class="separator"></div>
                              <button class="actionButton">
                                  <img src="resources/HeartCrack.svg" alt="Dislike">
                                  <span class="counter">8</span>
                              </button>
                              <button class="actionButton" onclick="window.location.href='postPage.html'"><img src="resources/Comments.svg" alt="Comment"></button>
                              <button class="actionButton"><img src="resources/Bookmark.svg" alt="Bookmark"></button>
                         </div>

                    </div>

                    <script>

                         function iconClicked(button, iconType) {
                              // Get the image within the button
                              const img = button.querySelector('img');
                              
                              // Get the counter element if it exists
                              const counter = button.querySelector('.counter');

                              // Find the parent post or comment
                              const post = button.closest('.post, .comment');
                              
                              // Path for different icon types
                              const iconPaths = {
                                   'heart': {
                                   default: 'resources/Heart.svg',
                                   clicked: 'resources/Heart-Clicked.svg'
                                   },
                                   'heartCrack': {
                                   default: 'resources/HeartCrack.svg',
                                   clicked: 'resources/HeartCrack-Clicked.svg'
                                   },
                                   'bookmark': {
                                   default: 'resources/Bookmark.svg',
                                   clicked: 'resources/Bookmark-Clicked.svg'
                                   }
                              };

                              if (iconType === 'heart' || iconType === 'heartCrack') {
                                   // Find like and dislike buttons
                                   const likeButton = post.querySelector('.actionButton img[src*="Heart"]').closest('.actionButton');
                                   const dislikeButton = post.querySelector('.actionButton img[src*="HeartCrack"]').closest('.actionButton');
                                   
                                   // Get like and dislike counters
                                   const likeCounter = likeButton.querySelector('.counter');
                                   const dislikeCounter = dislikeButton.querySelector('.counter');

                                   // Determine current button details
                                   const currentButton = iconType === 'heart' ? likeButton : dislikeButton;
                                   const otherButton = iconType === 'heart' ? dislikeButton : likeButton;
                                   const currentImg = currentButton.querySelector('img');
                                   const otherImg = otherButton.querySelector('img');
                                   const currentCounter = iconType === 'heart' ? likeCounter : dislikeCounter;
                                   const otherCounter = iconType === 'heart' ? dislikeCounter : likeCounter;

                                   // Normalize the current image's src path to ensure comparison works
                                   const currentSrc = currentImg.src.split('/').pop(); // Extract only the filename
                                   const isCurrentlyClicked = currentSrc === iconPaths[iconType].clicked.split('/').pop();

                                   // Check the other button's state
                                   const otherSrc = otherImg.src.split('/').pop();
                                   const isOtherClicked = otherSrc === iconPaths[iconType === 'heart' ? 'heartCrack' : 'heart'].clicked.split('/').pop();

                                   // Toggle current button state
                                   if (isCurrentlyClicked) {
                                        // If already clicked, reset (unlike/undislike)
                                        currentImg.src = iconPaths[iconType].default;
                                        currentCounter.textContent = Math.max(0, parseInt(currentCounter.textContent) - 1);
                                   } else {
                                        // If not clicked, set current button to clicked state
                                        currentImg.src = iconPaths[iconType].clicked;
                                        currentCounter.textContent = parseInt(currentCounter.textContent) + 1;

                                        // If the other button was clicked, reset it
                                        if (isOtherClicked) {
                                             otherImg.src = iconPaths[iconType === 'heart' ? 'heartCrack' : 'heart'].default;
                                             otherCounter.textContent = Math.max(0, parseInt(otherCounter.textContent) - 1);
                                        }
                                   }
                              } else if (iconType === 'bookmark') {
                                   // Bookmark button logic
                                   const currentSrc = img.src.split('/').pop(); // Extract only the filename
                                   const isCurrentlyBookmarked = currentSrc === iconPaths.bookmark.clicked.split('/').pop();

                                   // Toggle bookmark state
                                   if (isCurrentlyBookmarked) {
                                        img.src = iconPaths.bookmark.default;
                                   } else {
                                        img.src = iconPaths.bookmark.clicked;
                                   }
                              }
                         }

                         // Add event listeners to all action buttons
                         document.addEventListener('DOMContentLoaded', () => {
                              document.querySelectorAll('.actionButton').forEach(button => {
                                   button.addEventListener('click', function() {
                                   const img = this.querySelector('img');
                                   if (img.src.includes('Heart.svg') || img.src.includes('Heart-Clicked.svg')) {
                                        iconClicked(this, 'heart');
                                   } else if (img.src.includes('HeartCrack.svg') || img.src.includes('HeartCrack-Clicked.svg')) {
                                        iconClicked(this, 'heartCrack');
                                   } else if (img.src.includes('Bookmark.svg') || img.src.includes('Bookmark-Clicked.svg')) {
                                        iconClicked(this, 'bookmark');
                                   }
                                   });
                              });
                         });
                    </script>
               
               </div>

          </div>
     </body>
</html>