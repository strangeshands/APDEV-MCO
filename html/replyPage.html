<!DOCTYPE html>
<html>
    <head>
        <title>Connectify - Reply</title>
        <link rel="icon" href="../resources/Logo.svg" type="image/svg+xml">

        <!-- CSS -->
        <link rel="stylesheet" type="text/css" href="../css/replyPage.css">
        <link rel="stylesheet" type="text/css" href="../css/generalStyle.css">
    
        <!-- CROPPER -->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>
    </head>

    <body>
        
        <!-- HEADER PORTION -->
        <header>
            <div id="headercol1" onclick="window.location.href='../html/homePage.html'">
                 <img id="logo" src="../resources/Logo.svg" />
                 <p id="appName"> Connectify </p>
            </div>
            <div id="headercol2">
                 <div class="searchBar">
                      <img src="../resources/Trailing-Elements.svg" alt="Search Icon">
                      <input type="text" id="search" name="search" placeholder="Search #tags or ::words::" required>
                 </div>
            </div>
       </header>

       <!-- MAIN PAGE -->
        <main>

            <!-- BACK BUTTON -->
            <div class="goBackLink" onclick="window.location.href='../html/postPage.html'">
                <span class="arrow">&#8604;</span>
                <span class="back">Back</span>
            </div>

            <!-- POST SPACE -->
            <div class="postSpace">
                
                <!-- POST BEING REPLIED TO -->
                <div id="post">
                    <div id="replyToContainer"></div>
                    <div class="postHeader">
                        <div class="userInfo">
                            <div class="avatar" id="postAvatar"></div>
                            <div class="username-and-time">
                                <div class="displayName" id="postDisplayName"></div>
                                <div class="time" id="postTime"></div>
                            </div>
                        </div>
                    </div>
                    <div id="tagContainer">
                    </div>
                    <div id="postTitleContainer">
                    </div>
                    <div id="postText">
                    </div>
    
                    <!-- COMMENT OUT IF NO IMAGE -->
                    <div id="photo-container"></div>
    
                     <div class="postActions">
                            <button id="heart" class="actionButton">
                                <img src="../resources/Heart.svg"/>
                                <span class="counter" id="postLikeCounter"></span>
                        </button>
                        <img src="../resources/Line.svg" alt="Line">
                        <button id="heartCrack" class="actionButton">
                                <img src="../resources/HeartCrack.svg"/>
                                <span class="counter" id="postDislikeCounter"></span>
                        </button>
                        <button class="actionButton"onclick="window.location.href='../html/replyPage.html'">
                                <img src="../resources/Comments.svg"/>
                        </button>
                        <button id="bookmark" class="actionButton">
                                <img src="../resources/bookmark.svg"/>
                        </button>
                     </div>
                </div>

                <!-- INPUTS FOR REPLY -->
                <div class="replySpace">
                    <div class="replyLine"></div>
                    <div class="replyThread">
                        <div class="replyPost">
                            <div class="postHeader">
                                <div class="userInfo">
                                    <div class="avatar" id="REPavatar"></div>
                                    <div class="username-and-time">
                                        <div class="REPusername" id="REPusername"></div>
                                        <div class="currentUsername" id="currentUsername"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="replyPrompt">
                                <div class="prompt">replying to</div>
                                <div class="repliedUser" id="repliedUser"></div>
                            </div>
                            <div class="postText">
                                <textarea
                                    id="postTextInput"
                                    placeholder="What's on your mind?"
                                    maxlength="300">
                                </textarea>
                            </div>
                            
                            <!-- CHAR LIM -->
                            <div class="charLim"> <span id="char-counter">0/300</span> </div>
                            <div id="replyphotocontainer"></div>

                            <!-- Image Modal -->
                            <div id="imageModal" class="modal">
                                <span class="close">&times;</span>
                                <div id="userphotocontainer-modal">
                                     <img class="modal-content" id="modalImage">
                                </div>
                                <div id="caption"></div>
                           </div>
                        </div>
                    </div>
                </div>  

                <!-- POST ACTIONS -->
                <div class="horizontalBar"></div>
                <div class="postAction">
                    <!-- Hidden file input for image upload -->
                    <input 
                        type="file" 
                        id="imageUploadInput" 
                        accept="image/*" 
                        multiple 
                        style="display: none;"
                    />
                
                    <!-- Add Image Button -->
                    <button id="addImageButton" class="imageActionButton">
                        <img src="../resources/ImageAdd.svg" alt="Add Image">
                    </button>

                    <script>
                        const addImageButton = document.getElementById('addImageButton');
                        const imageContainer = document.getElementById('replyphotocontainer');

                        addImageButton.addEventListener('click', function() {
                            imageContainer.style.display = 'flex';
                        });
                    </script>
                    
                    <button class="commentButton">Comment</button>
                </div>
            </div>
        </main>
        
        <script src="../js/receivingPostData.js"></script>
        <script src="../js/actionButton.js"></script>
        <script src="../js/profile1-data.js"></script>
    </body>
</html>

<!-- PAGE JAVASCRIPT -->
<script src="../js/replyPage.js"></script>