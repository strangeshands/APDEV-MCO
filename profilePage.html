<!DOCTYPE html>
<html>
     <head>
          <title> Connectify - [username] </title>
          <link rel="stylesheet" type="text/css" href="profilePage.css">
          <link rel="icon" href="resources/Logo.svg" type="image/svg+xml">
          <script src="profile1-data.js"></script>
     </head>

     <body>
          <header>
               <div id="headercol1">
                    <img id="logo" src="resources/Logo.svg" />
                    <p id="appName"> Connectify </p>
               </div>
               <div id="headercol2">
                    <div class="searchBar">
                         <img src="resources/Trailing-Elements.svg" alt="Search Icon">
                         <input type="text" id="search" name="search" placeholder="Search #tags or ::words::" required>
                    </div>
               </div>
          </header>

          <div id="content">
               <div id="profileHeader">
                    <!--<img src="resources/headerSample.jpg"/>-->
                    <img src="resources/headerSample.jpg" onclick="openModal(this)" />
               </div>
               
               <div id="sub-container">
                    <!-- USER STATS/OPTIONS COLUMN -->
                    <div id="col1">
                         <!-- USERNAME, PROFILE, FOLLOW/ER COUNT -->
                         <div class="col1-sub-container"> 
                              <!-- PFP and USERNAME -->
                              <div id="pfpcontainer">
                                   <div id="pfpPic">
                                        <img src="resources/pfpSample.jpg" onclick="openModal(this)" />
                                   </div>

                                   <p class="maintext" id="display_name"></p>
                                   <p class="subtext" id="username"></p>
                              </div>

                              <div class="inviBrk"> </div>
                              
                              <!-- FOLLOW/ER COUNTS -->
                              <div id="count">
                                   <div id="followers">
                                        <p class="maintext" id="num_likes"></p>
                                        <p class="subtext"> Likes </p>
                                   </div>

                                   <div id="following">
                                        <p class="maintext" id="num_posts"></p>
                                        <p class="subtext"> Posts </p>
                                   </div>
                              </div>
                         </div>

                         <!-- BIO -->
                         <div class="col1-sub-container"> 
                              <h3> BIO </h3>

                              <!-- BIO PLACEHOLDER -->
                              <p id="bio" class="regulartext"></p>
                         </div>

                         <!-- TAGS -->
                         <div class="col1-sub-container"> 
                              <h3> TAGS </h3>

                              <!-- IF NO TAGS AVAILABLE -->
                              <!--<p class="regulartext" style="opacity: 80%;"> No tags available</p>-->

                              <!-- TAGS AVAILABLE -->
                              <div id="taglist">
                                   <!--<button class="usertags"> 
                                        #TagHere
                                   </button>
                                   <button class="usertags"> 
                                        #AnotherTagHere
                                   </button>
                                   <button class="usertags"> 
                                        #ProbablyAnotherTagHere
                                   </button>-->
                              </div>
                         </div>

                         <!-- SETTINGS -->
                         <div class="col1-sub-container"> 
                              <button class="editProfile" onclick="window.location.href='editProfilePage.html'">
                                   <img src="resources/Edit Icon.svg" alt="">
                                   Edit Profile
                              </button>
                              <button class="logOut" onclick="window.location.href='loginPage.html'">
                                   <img src="resources/Log Out Icon.svg" alt="">
                                   Log Out
                              </button>
                         </div>
                    </div>

                    <!-- USER POSTS/COMMENTS COLUMN -->
                    <div id="col2">
                         <!-- TAB SELECTION ROW -->
                         <div id="tabrow"> 
                              <button class="tab active" onclick="showContent('poststab', this)">Posts</button>
                              <button class="tab" onclick="showContent('commentstab', this)">Comments</button>
                              <button class="tab" onclick="showContent('bookmarkstab', this)">Bookmarks</button>
                              <button class="tab" onclick="showContent('likestab', this)">Likes</button>
                         </div>

                         <!-- SPECIFIC TAB -->
                         <div class="col2-sub-container">
                              <!-- POSTS TAB -->
                              <div id="poststab" class="tab-content">
                                   <!-- SET OF USER POST -->
                                   <div class="USERPOST"> 
                                        <!-- USER DETAILS -->
                                        <div id="pfpuserrow">
                                             <div id="userandpfp">
                                                  <div class="pfpPost">
                                                       <img src="resources/pfpSample.jpg"/>
                                                  </div>

                                                  <div id="pfpnames">
                                                       <span class="pfpdisplayname">DARNA</span>
                                                       <span class="pfpusername">@AkoSiDarna</span>
                                                  </div>
                                             </div>

                                             <button class="smallbutton">
                                                  <img src="resources/Options Button.svg"/>
                                             </button>
                                        </div>

                                        <!-- POST TAGS HERE -->
                                        <div id="posttags">
                                             <a href="">#AnotherTagHere</a>
                                             <a href="">#TagHere</a>
                                             <a href="">#ProbablyAnotherTagHere</a>
                                        </div>

                                        <!-- POST TITLE HERE -->
                                        <div id="posttile">
                                             <h2> JOURNEY </h2>
                                        </div>

                                        <!-- POST CAPTION HERE -->
                                        <div id="usercaption">
                                             Life is a journey, and every step we take brings us closer to discovering who we truly are. 
                                             It’s about embracing the highs and lows, the challenges and triumphs, and finding 
                                             joy in the little things. Whether it’s a breathtaking sunset, a cozy moment with friends, or 
                                             the satisfaction of achieving a long-awaited goal, these moments shape our story. Let’s 
                                             live with purpose, dream big, and never stop learning or growing.
                                        </div>

                                        <!-- POST PHOTO HERE -->
                                        <div id="userphoto">
                                             <div id="userphotocontainer"> 
                                                  <img src="resources/hamster.jpg" class="clickable-image" onclick="openModal(this)">
                                                  <img src="resources/monkey.jpg" class="clickable-image" onclick="openModal(this)">
                                                  <img src="resources/cat.jpg" class="clickable-image" onclick="openModal(this)">
                                                  <img src="resources/grass.jpg" class="clickable-image" onclick="openModal(this)">
                                             </div>
                                        </div>

                                        <!-- POST OPTIONS -->
                                        <div id="postoptionrow">
                                             <button class="postoptionbutton">
                                                  <img src="resources/Heart.svg"/>
                                             </button>
                                             <img src="resources/Line.svg" alt="Line">
                                             <button class="postoptionbutton">
                                                  <img src="resources/HeartCrack.svg"/>
                                             </button>
                                             <button class="postoptionbutton">
                                                  <img src="resources/Comments.svg"/>
                                             </button>
                                             <button class="postoptionbutton">
                                                  <img src="resources/bookmark.svg"/>
                                             </button>
                                        </div>

                                        <div class="post-break"></div>
                                   </div>
                                   <!-- SET OF USER POST -->

                                   <!-- SET OF USER POST -->
                                   <div class="USERPOST"> 
                                        <!-- USER DETAILS -->
                                        <div id="pfpuserrow">
                                             <div id="userandpfp">
                                                  <div class="pfpPost">
                                                       <img src="resources/pfpSample.jpg"/>
                                                  </div>

                                                  <div id="pfpnames">
                                                       <span class="pfpdisplayname">DARNA</span>
                                                       <span class="pfpusername">@AkoSiDarna</span>
                                                  </div>
                                             </div>

                                             <button class="smallbutton">
                                                  <img src="resources/Options Button.svg"/>
                                             </button>
                                        </div>

                                        <!-- POST TAGS HERE -->
                                        <div id="posttags">
                                             <a href="">#TagHere</a>
                                        </div>

                                        <!-- POST TITLE HERE -->
                                        <div id="posttile">
                                             <h2> iPhone 16 </h2>
                                        </div>

                                        <!-- POST CAPTION HERE -->
                                        <div id="usercaption">
                                             sorry guys i don't have a photo but guess who just got a new iphone 16 pro max 256gb 
                                             fully paid no installment (not me)
                                        </div>

                                        <!-- POST OPTIONS -->
                                        <div id="postoptionrow">
                                             <button class="postoptionbutton">
                                                  <img src="resources/Heart.svg"/>
                                             </button>
                                             <img src="resources/Line.svg" alt="Line">
                                             <button class="postoptionbutton">
                                                  <img src="resources/Heart Crack.svg"/>
                                             </button>
                                             <button class="postoptionbutton">
                                                  <img src="resources/Comments.svg"/>
                                             </button>
                                             <button class="postoptionbutton">
                                                  <img src="resources/bookmark.svg"/>
                                             </button>
                                        </div>

                                        <div class="post-break"></div>
                                   </div>
                                   <!-- SET OF USER POST -->
                              </div>

                              <!-- COMMENTS TAB -->
                              <div id="commentstab" class="tab-content">
                                   <iframe src="userCommentsTab.html"></iframe>
                              </div>

                              <!-- BOOKMARKS TAB -->
                              <div id="bookmarkstab" class="tab-content">
                                   <iframe src="userCommentsTab.html"></iframe>
                              </div>

                              <!-- LIKES TAB -->
                              <div id="likestab" class="tab-content">
                                   <iframe src="userCommentsTab.html"></iframe>
                              </div>
                         </div>
                    </div>
               </div>
          </div>

          <!-- IMAGE MODAL -->
          <div id="imageModal" class="modal">
               <span class="close">&times;</span>
               <div id="userphotocontainer-modal"> 
                    <img class="modal-content" id="modalImage">
               </div>
               <div id="caption"></div>
          </div>
     </body>
</html>

<!-- JAVASCRIPT -->
<script>
     /* ----- HARD CODED DATA ----- */
     document.addEventListener("DOMContentLoaded", () => {
          const displayNameElement = document.getElementById('display_name');
          const usernameElement = document.getElementById('username');
          const likesCountElement = document.getElementById('num_likes');
          const postsCountElement = document.getElementById('num_posts');

          var profile = profile1

          // Populate the DOM elements with data from profile1
          displayNameElement.textContent = profile.display_name;
          usernameElement.textContent = profile.username;
          likesCountElement.textContent = profile.likes;
          postsCountElement.textContent = profile.posts;

          printBio(profile1.bio);
          printTags(profile1.tags);
     });


     /* ----- NECESSARY FUNCTIONS ----- */
     function printTags (tags) {
          const tagListElement = document.getElementById("taglist");

          if (tags.length === 0) {
               tagListElement.innerHTML = '<p class="regulartext" id="no-tag-msg">No tags available</p>';
          } else {
               tagListElement.innerHTML = tags
                    .map(tag => `<button class="usertags">${tag}</button>`)
                    .join("");
          }
     }

     function printBio (bio) {
          const bioElement = document.getElementById('bio');

          if (bio.length === 0) {
               bioElement.textContent = "Boring! No bio yet...";
               bioElement.classList.add('no-bio-msg');
          } else {
               bioElement.textContent = bio;
               bioElement.classList.remove('no-bio-msg');
          }
     }

     function openModal(image) {
          const modal = document.getElementById("imageModal");
          const modalImg = document.getElementById("modalImage");
          const captionText = document.getElementById("caption");
     
          console.log("Image source:", image.src);
          modal.style.display = "block";
          modalImg.src = image.src;
     
          modal.onclick = function () {
               modal.style.display = "none";
          };
     }

     /*window.addEventListener("message", (event) => {
          if (event.origin !== window.location.origin) 
               return;

          const { type, src } = event.data;
          if (type === "imageClick") 
               openModal(src);
     });*/

     function showContent(tabId, button) {
          const tabContents = document.querySelectorAll('.tab-content');
          tabContents.forEach(content => {
               content.style.display = 'none';
          });

          const tabButtons = document.querySelectorAll('.tab');
          tabButtons.forEach(tab => {
               tab.classList.remove('active');
          });

          const selectedTabContent = document.getElementById(tabId);
          if (selectedTabContent) {
               selectedTabContent.style.display = 'block';
          }

          button.classList.add('active');
     }
</script>