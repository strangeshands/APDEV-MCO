<!DOCTYPE html>
<html>
    <head>
        <title>Connectify - {{title}}</title>
        <link rel="icon" href="../resources/Logo.svg" type="image/svg+xml">

        <!-- CSS -->
        <link rel="stylesheet" type="text/css" href="../css/postPage.css">
        <link rel="stylesheet" type="text/css" href="../css/generalStyle.css">
    </head>

    <body>
        <!-- HEADER PORTION -->
        <header>
            <div id="headercol1" onclick="window.location.href='/'">
                <img id="logo" src="../resources/Logo.svg" />
                <p id="appName"> Connectify </p>
            </div>
            <div id="headercol2">
                <div class="searchBar">
                    <img src="../resources/Trailing-Elements.svg" alt="Search Icon">
                    <input type="text" id="search" name="search" placeholder="Search #tags or ::words::" required>
                </div>
        
                <!-- IF USER IS NOT LOGGED IN -->
                <div class="logIn">
                    <button id="logInButton" onclick="window.location.href='../html/loginPage.html'">Log In</button>
                </div>
            </div>
        </header>

        <div class="break"> </div>
        
        <main>
            
            <!-- BACK BUTTON -->
            <div class="goBackLink" onclick="window.location.href='/'">
                <span class="arrow">&#8604;</span>
                <span class="back">Back</span>
            </div>

            <div id="post">
                <div id="replyToContainer"></div>
                <div class="postHeader">
                    <div class="userInfo">
                        <div class="avatar" id="postAvatar">
                            <img src="{{post.author.profilepic}}" alt="" id="postProfilePic">
                        </div>
                        <div class="username-and-time">
                            <div class="displayName" id="postDisplayName">{{post.author.displayname}}</div>
                            <div class="time" id="postTime">{{post.author.username}} | {{postDate}}</div>
                        </div>
                    </div>
                    <!-- IF POST BELONGS TO USER
                    <button class="optionsButton" id="postOptions">
                        <img src="../resources/Options Button.svg" alt="Options">
                    </button> -->
                </div>

                <!-- TAGS PORTION -->
                <div id="tagContainer">
                    {{#if post.tags}}
                        <div id="tags">
                            {{#each post.tags}}
                                <a href="{{this}}">{{this}}</a>
                            {{/each}}
                        </div>
                    {{/if}}
                </div>
                <!-- TITLE PORTION -->
                <div id="postTitleContainer">
                    <div id="postTitle">{{post.title}}</div>
                </div>
                <!-- CAPTION PORTION -->
                <div id="postText">{{post.content}}</div>
                <!-- IMAGE PORTION -->
                {{#if post.images}}
                    <div id="userphotocontainer">
                        {{#each post.images}}
                            <img class="clickable-image" src="{{this}}" onclick="openModal(this)">
                        {{/each}}
                    </div>
                {{/if}}

                <!-- POST ACTIONS -->
                <div class="postActions">
                        <button id="heart" class="actionButton">
                            <img src="../resources/Heart.svg"/>
                            <span class="counter" id="postLikeCounter"></span>
                    </button>
                    <img src="../resources/Line.svg" alt="Line">
                    <button id="heartCrack" class="actionButton">
                            <img src="../resources/HeartCrack.svg"/>
                            <span class="counter" id="postDislikeCounter"></span>
                    </button>
                    <button class="actionButton"onclick="window.location.href='../html/replyPage.html'">
                            <img src="../resources/Comments.svg"/>
                    </button>
                    <button id="bookmark" class="actionButton">
                            <img src="../resources/bookmark.svg"/>
                    </button>
                </div>
            </div>

            <!-- COMMENTS -->
            <div id="comments">
                <h2>Comments</h2>
                <div class="horizontalBar"></div>
                <div class="comment-thread"></div>
            </div>
        </main>

        <!-- IMAGE MODAL -->
        <div id="imageModal" class="modal">
            <span class="close">&times;</span>
            <div id="postImageContainer-modal"> 
                <img class="modal-content" id="modalImage">
            </div>
            <div id="caption"></div>
        </div>

        <script src="../js/sampleComments.js"></script>
        <script src="../js/commentsRenderer.js"></script>
        <script src="../js/sendingPostData.js"></script>
        <script src="../js/receivingPostData.js"></script>
    </body>
</html>

<!-- PAGE JAVASCRIPT -->
<script src="../js/postPage.js"> </script>