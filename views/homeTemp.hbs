<!DOCTYPE html>
<html>
     <head>
          <title> Connectify - {{title}} </title>
          <link rel="icon" href="../resources/Logo.svg" type="image/svg+xml">

          <!-- CSS -->
          <link rel="stylesheet" type="text/css" href="../css/homePage.css">
          <link rel="stylesheet" type="text/css" href="../css/generalStyle.css">

          <!-- SCRIPTS -->
          <script src="../js/actionButton.js"></script>
          <script src="../js/togglePopup.js"></script>
     </head>

     <body>
          <!-- HEADER PORTION -->
          <header>
               <div id="headercol1" onclick="window.location.href='../html/homePage.html'">
                    <img id="logo" src="../resources/Logo.svg" />
                    <p id="appName"> Connectify </p>
               </div>
               <div id="headercol2">
                    <div class="searchBar">
                         <img src="../resources/Trailing-Elements.svg" alt="Search Icon">
                         <input type="text" id="search" name="search" placeholder="Search #tags or ::words::" required>
                    </div>
               
                    <!-- IF USER IS NOT LOGGED IN -->
                    <div class="logIn">
                         <button id="logInButton" onclick="window.location.href='../html/loginPage.html'">Log In</button>
                    </div>
               </div>
          </header>

          <div class="break"> </div>

          <div class="content">

               <!-- IF USER IS LOGGED IN -->
               <!-- NAV BAR -->
               <div class="navBar">

                    <!-- USER PROFILE -->
                    <div class="profileNav">
                         <!-- PROFILE NAME, PIC, # OF LIKES/POSTS, BIO-->
                         <div class="profile">
                              <div id="userAvatar">
                                   <img src="../resources/pfpSample.jpg" class="userProfilePic" alt="User Profile Pic">
                              </div>
                              <div class="usernameAndhandle">
                                   <p id="profileUsername">DARNA</p>
                                   <p id="profileUserhandle">@AkoSiDarna</p>
                              </div>
                         </div>

                         <div class="navBarDivider"></div>

                         <div class="navBarContent">
                         
                              <!-- NAV BAR OPTIONS -->
                              <div class="registeredOptions">
                                   <button class="navBarButtons" id="viewProfile" onclick="window.location.href='../html/profilePage.html'">
                                        <img src="../resources/Profile Icon.svg" alt="View Profile Icon">
                                        View Profile
                                   </button>
                                   <button class="navBarButtons" id="editProfile" onclick="window.location.href='../html/editProfilePage.html'">
                                        <img src="../resources/Edit Icon.svg" alt="Edit Profile Icon">
                                        Edit Profile
                                   </button>
                                   <button class="navBarButtons" id="logOut" onclick="window.location.href='../html/loginPage.html'">
                                        <img src="../resources/Log Out Icon.svg" alt="Log Out Icon">
                                        Log Out
                                   </button>
                              </div>
                         </div>
                    </div>
               
                    <!-- POSTS AND COMMENTS SUBSECTION -->
                    <div class="userPostsAndComments">

                         <!-- POSTS -->
                         <div class="userPostsAndCommentsHeader">
                              <p class="userNavTitle">Posts</p>
                              <a class="userNavMore" href="../html/profilePage.html">More ></a>
                         </div>

                         <div class="userPostsAndCommentsContent" id="userPostsContent"></div>
                         <script src="../js/loadNavPosts.js"></script>
                         <script>
                            document.addEventListener("DOMContentLoaded", loadNavPosts());
                         </script>
                    </div>
                    
                    <!-- COMMENTS -->
                    <div class="userPostsAndComments">

                         <div class="userPostsAndCommentsHeader">
                              <p class="userNavTitle">Comments</p>
                              <a class="userNavMore" href="../html/profilePage.html">More ></a>
                         </div>

                         <div class="userPostsAndCommentsContent" id="userCommentsContent"></div>
                         <script src="../js/loadNavComments.js"></script>
                         <script>
                            document.addEventListener("DOMContentLoaded", loadNavComments());
                         </script>
                    </div>

               </div> 
               
               <!-- TIMELINE -->
               <div class="timeline" id="postsTimeline">
                    <!-- NEW POST BUTTON -->
                    <div class="newPost">
                         <button class="newPostButton" onclick="window.location.href='../html/newPostPage.html'">+ New Post</button>
                    </div>

                    <div class="postDivider"></div>
                    
                    <!-- POST FEED -->

                    <div id="postFeed"></div>
                        {{#if posts.length}}
                            {{#each posts}}
                                <a class="single" href="/posts/{{_id}}">
                                    <h3 class="title">{{title}}</h3>
                                </a>
                            {{/each}}
                        {{else}}
                            <p>There are no posts to display</p>
                        {{/if}}
                    </script>
               
               </div>

          </div>

          <!-- IMAGE MODAL -->
          <div id="imageModal" class="modal">
            <span class="close">&times;</span>
            <div id="userphotocontainer-modal"> 
                 <img class="modal-content" id="modalImage">
            </div>
            <div id="caption"></div>
          </div>
     </body>
</html>

<!-- PAGE JAVASCRIPT -->
<script src="../js/homePage.js"></script>